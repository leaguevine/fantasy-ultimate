{% extends "base_webapp.html" %}

{% block page_css %}
<style>
    .alert {
      position: relative;
      display: inline-block;
    }
    .ui-fb-like-container {
      margin-top: 5px;
    }
    .ui-roster {
      width: 500px;
    }
</style>
{% endblock %}

{% block body_content %}
{% if created %}
<div class="alert alert-success">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    You've created your team, now tell your friends by clicking LIKE:
    <div class="ui-fb-like-container">
        <div class="fb-like" data-send="false" data-width="450" data-show-faces="true"></div>
    </div>
</div>
{% endif %}

<div class="ui-roster">
    <h2>Your roster:</h3>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Player</th>
                <th>Points</th>
            </tr>
        </thead>
        <tbody>
            {% for player in member.team.all_players %}
                <tr>
                    <td><a target="_blank" href="{{ player.extra.lv_player.leaguevine_url }}">{{ player.extra.lv_player.first_name }} {{ player.extra.lv_player.last_name }}</a></td>
                    <td>{{ player.score }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</p>
{% endblock %}

{% block includes %}
{# Include this before Facebook to be sure it is set when the SDK loads #}
<script>
    (function() {
        var a = document.createElement("a");
        a.href = "/";
        $(".fb-like").attr("data-href", a.href);
    })();
</script>

{% include "includes/facebook.html" %}
{% endblock %}
